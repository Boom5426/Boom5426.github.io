/* ==========================================================================
   MASTHEAD (Style: Quiet Poetry)
   Design Rationale: Create a clean, spacious, and functional header that
   feels light and unobtrusive, with elegant typography and subtle interactions.
   ========================================================================== */

.masthead {
  position: sticky;
  top: 0;
  background-color: rgba($background-color, 0.85); // Use a semi-transparent background for a modern feel
  backdrop-filter: blur(10px); // Adds a blur effect to content scrolling underneath
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid transparent; // Border is initially transparent
  transition: border-color 0.3s ease, background-color 0.3s ease;
  z-index: 20;

  // When the masthead is stuck to the top (scrolled past), add the border
  &.is--stuck {
    border-bottom-color: $border-color;
    background-color: rgba($background-color, 0.95);
  }
}

.masthead__inner-wrap {
  @include container;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px; // Use our rhythmic spacing
  font-family: $sans-serif; // Set the base font for the masthead

  @include breakpoint($x-large) {
    max-width: $x-large;
  }

  nav {
    z-index: 10;
  }

  a {
    text-decoration: none;
  }
}

.masthead__menu {
  ul {
    display: flex;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style-type: none;
  }
}

// Special item for the site title/home link
.masthead__menu-item--lg {
  a {
    font-family: $serif; // Use the elegant serif font for the site title
    font-weight: 600;
    font-size: 1.25em;
    color: $text-color;
  }
}

// Standard navigation items
.masthead__menu-item {
  display: block;
  list-style-type: none;
  white-space: nowrap;
  margin-left: 32px; // Rhythmic spacing between items

  a {
    position: relative;
    font-size: 1em;
    color: $text-color;
    padding: 8px 0; // Add some vertical padding for a better click target
    transition: color 0.2s ease;

    // The subtle, animated underline for hover interaction
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 1.5px;
      background-color: $accent-color;
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    &:hover,
    &.active {
      color: $accent-color;

      &::after {
        transform: scaleX(1);
      }
    }
  }
}

// This class seems to be for hiding the home link in the main nav on desktop
// We'll respect its logic.
.masthead__menu-home-item {
  @include breakpoint($medium) {
    display: none !important;
  }
}
